"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[945],{632:function(e,a,t){t.d(a,{Z:function(){return N}});var i="Gallery_gallery__RNraJ",r="Gallery_section__-vRp8",n=t(439),o={gallery_card:"MovieCard_gallery_card__AgP-w",movie_img:"MovieCard_movie_img__OgQxA",movie_describtion:"MovieCard_movie_describtion__H-1+r",movie_genresList:"MovieCard_movie_genresList__d6+3t",movie_average:"MovieCard_movie_average__j2fxM",modal:"MovieCard_modal__KQdO1",modal_auth:"MovieCard_modal_auth__1RNxf",modal_body:"MovieCard_modal_body__otckZ",modal_content:"MovieCard_modal_content__8rlmv",modal_close:"MovieCard_modal_close__o9iy+",modal_data:"MovieCard_modal_data__bmwvL",movie_image:"MovieCard_movie_image__ajhuA"},s=t(791),l="Modal_modal__DJDMv",c="Modal_modal_body__TApFM",d="Modal_modal_content__-WSAd",_="Modal_modal_close__DT8Wk",m=t(164),u=t(184),v=document.querySelector("#modal-root"),h=function(e){var a=e.close,t=e.children,i=(e.approve,(0,s.useCallback)((function(e){var t=e.target,i=e.currentTarget,r=e.code;t!==i&&"Escape"!==r||a()}),[a]));return(0,s.useEffect)((function(){return document.addEventListener("keydown",i),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",i),document.body.style.overflow=""}}),[i]),(0,m.createPortal)((0,u.jsx)("div",{id:"movie",className:l,onClick:i,children:(0,u.jsx)("div",{className:c,children:(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("button",{className:_,onClick:a,children:"X"}),t]})})}),v)},p={movie_inform:"ModalDetails_movie_inform__8S95Y",movie_title:"ModalDetails_movie_title__KMl17",card:"ModalDetails_card__k6NnO",image:"ModalDetails_image__VyZt4",list_category:"ModalDetails_list_category__AtcKw",list_data:"ModalDetails_list_data__AO8hk",genres:"ModalDetails_genres__ZkSuM",movie_about:"ModalDetails_movie_about__2ekXk",about:"ModalDetails_about__pYwoN",average:"ModalDetails_average__b-kd1",count:"ModalDetails_count__TVN+I"},f=function(e){var a=e.item,t=a.poster_path,i=a.original_title,r=a.vote_average,n=a.vote_count,o=a.popularity,s=a.overview,l="https://image.tmdb.org/t/p/w500".concat(t);return(0,u.jsxs)("div",{className:p.movie_card,children:[(0,u.jsx)("img",{src:l,alt:i,className:p.image,loading:"lazy"}),(0,u.jsxs)("div",{className:p.movie_descr,children:[(0,u.jsx)("p",{className:p.movie_title,children:i}),(0,u.jsx)("table",{className:p.movie_inform,children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Vote/Votes"}),(0,u.jsxs)("td",{className:p.list_data,children:[(0,u.jsx)("span",{className:p.average,children:r.toFixed(1)})," /"," ",(0,u.jsx)("span",{className:p.count,children:n})]})]}),(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Popularity"}),(0,u.jsx)("td",{className:p.list_data,children:o.toFixed(1)})]}),(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Original Title"}),(0,u.jsx)("td",{className:p.list_data,children:i})]}),(0,u.jsx)("tr",{className:p.movie_info_item,children:(0,u.jsx)("td",{className:p.list_category,children:"Genre"})})]})}),(0,u.jsx)("p",{children:"About"}),(0,u.jsxs)("p",{className:p.movie_about,children:["$",s]})]})]})},x=f;f.defaultProps={items:[]};var g=function(e){var a=e.item,t=(0,s.useState)(!1),i=(0,n.Z)(t,2),r=i[0],l=i[1],c=a.poster_path,d=a.original_title,_=a.id,m=a.vote_average,v="https://image.tmdb.org/t/p/w500".concat(c);return(0,u.jsxs)("li",{className:o.gallery_card,onClick:function(){return l(!0)},children:[(0,u.jsx)("img",{id:a.id,className:o.movie_img,src:v,alt:a.original_title,loading:"lazy"}),(0,u.jsx)("p",{className:o.movie_title,children:d}),(0,u.jsxs)("div",{className:o.movie_describtion,children:[(0,u.jsx)("ul",{className:o.movie_genresList}),(0,u.jsx)("p",{children:"2022"}),(0,u.jsx)("p",{className:o.movie_average,children:m.toFixed(1)})]}),r&&(0,u.jsxs)(h,{close:function(){return l(!1)},children:[(0,u.jsx)("h1",{children:"\u0422\u0443\u0442 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u041c\u043e\u0434\u0430\u043b\u043a\u0430"}),(0,u.jsx)(x,{item:a})]})]},_)},j=function(e){var a=e.items;return(0,u.jsx)("div",{className:r,children:(0,u.jsx)("ul",{className:i,children:a.map((function(e){return(0,u.jsx)(g,{item:e},e.id)}))})})},N=j;j.defaultProps={items:[]}},921:function(e,a,t){t.d(a,{Z:function(){return n}});var i={load_more:"LoadMoreButton_load_more__p8--J"},r=t(184),n=function(){return(0,r.jsx)("div",{className:i.section,children:(0,r.jsx)("button",{type:"button",className:i.load_more,children:"Load more"})})}},432:function(e,a,t){t.d(a,{Z:function(){return d}});var i,r=t(683),n=t(925),o=t(168),s=t(924).ZP.div(i||(i=(0,o.Z)(["\n  padding-left: 32px;\n  padding-right: 32px;\n  margin-bottom: 60px;\n"]))),l=t(184),c=["children"],d=function(e){var a=e.children,t=(0,n.Z)(e,c);return(0,l.jsx)(s,(0,r.Z)((0,r.Z)({},t),{},{children:a}))}},945:function(e,a,t){t.r(a);var i=t(433),r=t(683),n=t(861),o=t(439),s=t(757),l=t.n(s),c=t(791),d=t(432),_=t(632),m=t(921),u=t(183),v=t(184);a.default=function(){var e=(0,c.useState)({items:[],loading:!1,error:null}),a=(0,o.Z)(e,2),t=a[0],s=a[1];(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!0,error:null})})),e.next=4,(0,u.vw)();case 4:a=e.sent,s((function(e){return(0,r.Z)((0,r.Z)({},e),{},{items:(0,i.Z)(a)})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s((function(a){return(0,r.Z)((0,r.Z)({},a),{},{error:e.t0})}));case 11:return e.prev=11,s((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!1})})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var h=t.items,p=t.loading,f=t.error;return(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("h1",{children:"Library page"}),h.length>0&&(0,v.jsx)(_.Z,{items:h}),p&&(0,v.jsx)("p",{children:"...loading"}),f&&(0,v.jsx)("p",{children:"...load failed"}),(0,v.jsx)(m.Z,{})]})}},183:function(e,a,t){t.d(a,{vw:function(){return c}});var i=t(861),r=t(757),n=t.n(r),o=t(294),s="6de1479941bef67a0c224787b78603f1",l="https://api.themoviedb.org/3/";o.Z.create({baseURL:"https://api.themoviedb.org/3/"});function c(){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(n().mark((function e(){var a,t,i,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{accept:"application/json"}},e.next=3,fetch("".concat(l,"/trending/movie/day?api_key=").concat(s),a);case 3:return t=e.sent,e.next=6,t.json();case 6:return i=e.sent,e.next=9,i.results;case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=945.22b580e7.chunk.js.map