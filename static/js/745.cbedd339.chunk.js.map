{"version":3,"file":"static/js/745.cbedd339.chunk.js","mappings":"sKACA,MAA0B,yBAA1B,EAA+D,2BAA/D,EAAoG,yBCApG,GAAgB,aAAe,gCAAgC,aAAe,gCAAgC,UAAY,6BAA6B,kBAAoB,qCAAqC,iBAAmB,oCAAoC,cAAgB,kC,SCC1QA,EAAY,SAAHC,GAAkB,IAAZC,EAAID,EAAJC,KAExBC,EAOED,EAPFC,YACAC,EAMEF,EANFE,eACAC,EAKEH,EALFG,GAIAC,EACEJ,EADFI,aAIIC,EAAG,kCAAAC,OAAqCL,GAC9C,OACEM,EAAAA,EAAAA,KAAA,MAAaC,UAAWC,EAAAA,aAAiBC,UACvCC,EAAAA,EAAAA,MAAA,KAAGH,UAAWC,EAAAA,aAAkBG,KAAMP,EAAIK,SAAA,EACxCH,EAAAA,EAAAA,KAAA,OACEJ,GAAIH,EAAKG,GACTK,UAAWC,EAAAA,UACXI,IAAKR,EACLS,IAAKd,EAAKe,iBAGZR,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAAA,YAAgBC,SAAER,KAChCS,EAAAA,EAAAA,MAAA,OAAKH,UAAWC,EAAAA,kBAAsBC,SAAA,EACpCH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAAA,oBAGfF,EAAAA,EAAAA,KAAA,KAAAG,SAjBY,UAkBZH,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAAA,cAAkBC,SAAEN,EAAaY,QAAQ,YAfpDb,EAoBb,EC7BMc,EAAU,SAAHlB,GAAmB,IAAbmB,EAAKnB,EAALmB,MAEjB,OADAC,QAAQC,IAAIF,IAEVX,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAYC,UAC1BH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAcC,UAC5BH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAYC,SACxBQ,EAAMG,KAAI,SAAArB,GAAI,OACbO,EAAAA,EAAAA,KAACT,EAAS,CAAeE,KAAMA,GAAfA,EAAKG,GAAkB,SAMnD,EACA,IAEAc,EAAQK,aAAe,CACrBJ,MAAO,G,sDCvBT,OAAgB,UAAY,mC,SCY5B,EAVuB,WACrB,OACEX,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAAA,QAAYC,UAE1BH,EAAAA,EAAAA,KAAA,UAAQgB,KAAK,SAASf,UAAWC,EAAAA,UAAcC,SAAC,eAKtD,C,+ICXA,EAA0B,0BAA1B,EAAgE,4BAAhE,EAAoG,wB,kBCA9Fc,EAAU,mCACVC,EAAW,gCAEAC,EAAAA,EAAAA,OAAa,CAC5BC,QAAS,kCA4EJ,SAAeC,IAAW,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAgBhC,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,GAAAC,IAAAA,MAhBM,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAL,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIJ,OAHKN,EAAU,CACdO,OAAQ,MACRC,QAAS,CAAEC,OAAQ,qBACpBL,EAAAE,KAAA,EAEsBI,MAAM,GAADvC,OACvBmB,EAAQ,gCAAAnB,OAA+BkB,GAC1CW,GACA,KAAD,EAHa,OAARC,EAAQG,EAAAO,KAAAP,EAAAE,KAAA,EAKIL,EAASW,OAAO,KAAD,EAAxB,OAAHV,EAAGE,EAAAO,KAAAP,EAAAE,KAAA,EAEYJ,EAAIW,QAAQ,KAAD,EAApB,OAANV,EAAMC,EAAAO,KAAAP,EAAAU,OAAA,SAELX,GAAM,yBAAAC,EAAAW,OAAA,GAAAhB,EAAA,MACdJ,MAAA,KAAAC,UAAA,C,aCyBD,EAzDiB,SAAAoB,GACf,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,CACjCnC,MAAO,GACPoC,SAAS,EACTC,MAAO,OACPC,GAAAC,EAAAA,EAAAA,GAAAL,EAAA,GAJKM,EAAKF,EAAA,GAAEG,EAAQH,EAAA,IAMtBI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,eAAA9D,GAAAiC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA6B,IAAA,IAAAC,EAAA,OAAA9B,IAAAA,MAAA,SAAA+B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,OAMhB,OANgBuB,EAAAxB,KAAA,EAEpBmB,GAAS,SAAAM,GAAS,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACbD,GAAS,IACZX,SAAS,EACTC,MAAO,MAAI,IACTS,EAAAvB,KAAA,EACiBb,IAAc,KAAD,EAA5BmC,EAAMC,EAAAlB,KACZ3B,QAAQC,IAAI2C,GACZJ,GAAS,SAAAM,GACP,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAS,IACZ/C,OAAKiD,EAAAA,EAAAA,GAAMJ,IAEf,IAAGC,EAAAvB,KAAA,gBAAAuB,EAAAxB,KAAA,EAAAwB,EAAAI,GAAAJ,EAAA,SAEHL,GAAS,SAAAM,GAAS,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACbD,GAAS,IACZV,MAAKS,EAAAI,IAAA,IACH,QAOD,OAPCJ,EAAAxB,KAAA,GAEJmB,GAAS,SAAAM,GACP,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAS,IACZX,SAAS,GAEb,IAAGU,EAAAK,OAAA,6BAAAL,EAAAd,OAAA,GAAAY,EAAA,wBAEN,kBA5BoB,OAAA/D,EAAA+B,MAAA,KAAAC,UAAA,KA8BrB8B,IAEA1C,QAAQC,IAAI,yEACd,GAAG,CAACuC,IACJ,IAAQzC,EAA0BwC,EAA1BxC,MAAOoC,EAAmBI,EAAnBJ,QAASC,EAAUG,EAAVH,MACxB,OACEhD,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAYC,UAC1BC,EAAAA,EAAAA,MAAA,OAAKH,UAAWC,EAAcC,SAAA,EAC5BH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAUC,SAAC,cACzBQ,EAAMoD,OAAS,IAAK/D,EAAAA,EAAAA,KAACU,EAAAA,EAAO,CAACC,MAAOA,IACpCoC,IAAW/C,EAAAA,EAAAA,KAAA,KAAAG,SAAG,eACd6C,IAAShD,EAAAA,EAAAA,KAAA,KAAAG,SAAG,oBAEbH,EAAAA,EAAAA,KAACgE,EAAAA,EAAc,QAIvB,C","sources":["webpack://react-homework-template/./src/components/Gallery/Gallery.module.css?dbe6","webpack://react-homework-template/./src/components/MovieCard/MovieCard.module.css?a4e5","components/MovieCard/MovieCard.jsx","components/Gallery/Gallery.jsx","webpack://react-homework-template/./src/components/LoadMoreButton/LoadMoreButton.module.css?ca48","components/LoadMoreButton/LoadMoreButton.jsx","webpack://react-homework-template/./src/pages/HomePage/HomePage.module.css?5baa","services/apiService.js","pages/HomePage/HomePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"Gallery_gallery__RNraJ\",\"container\":\"Gallery_container__W9wzU\",\"section\":\"Gallery_section__-vRp8\"};","// extracted by mini-css-extract-plugin\nexport default {\"gallery_card\":\"MovieCard_gallery_card__AgP-w\",\"gallery_link\":\"MovieCard_gallery_link__4pwZj\",\"movie_img\":\"MovieCard_movie_img__OgQxA\",\"movie_describtion\":\"MovieCard_movie_describtion__H-1+r\",\"movie_genresList\":\"MovieCard_movie_genresList__d6+3t\",\"movie_average\":\"MovieCard_movie_average__j2fxM\"};","import css from './MovieCard.module.css';\n\nexport const MovieCard = ({ item }) => {\n  const {\n    poster_path,\n    original_title,\n    id,\n    // genre_ids,\n    // genres,\n    // release_date,\n    vote_average,\n  } = item;\n\n  const releaseYear = '2022';\n  const url = `https://image.tmdb.org/t/p/w500${poster_path}`;\n  return (\n    <li key={id} className={css.gallery_card}>\n      <a className={css.gallery_link} href={url}>\n        <img\n          id={item.id}\n          className={css.movie_img}\n          src={url}\n          alt={item.originalTitle}\n          // loading=\"lazy\"\n        />\n        <p className={css.movie_title}>{original_title}</p>\n        <div className={css.movie_describtion}>\n          <ul className={css.movie_genresList}>\n            {/* {renderGenres(data.genres, data.genreIds)} */}\n          </ul>\n          <p>{releaseYear}</p>\n          <p className={css.movie_average}>{vote_average.toFixed(1)}</p>\n        </div>\n      </a>\n    </li>\n  );\n};\n","import css from './Gallery.module.css';\nimport { MovieCard } from '../MovieCard/MovieCard';\n\n// import { Link } from 'react-router-dom';\n\n// useLocation;\n\nconst Gallery = ({ items }) => {\n  console.log(items);\n  return (\n    <div className={css.section}>\n      <div className={css.container}>\n        <ul className={css.gallery}>\n          {items.map(item => (\n            <MovieCard key={item.id} item={item} />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\nexport default Gallery;\n\nGallery.defaultProps = {\n  items: [],\n};\n\n// const GalleryList = items.map(({ id, data }) => (\n//   <MovieCard key={id} data={data} />\n//   // <li className={css.movie_item} key={id}>\n//   //   {/* <Link\n//   //       className={css.movie_link}\n//   //       // state={{ from: location }}\n//   //       to={`/library/${id}`}\n//   //     >\n//   //       {title}\n//   //     </Link> */}\n//   // </li>\n// ));\n\n// return <ul className={css.movie_list}>{listMovies}</ul>;\n// ____________________________________\n//   const location = useLocation();\n//   console.log(location);\n\n//   const listGallery = items.map(({ id, title }) => (\n//     <li className={css.movie_item} key={id}>\n//       <Link\n//         className={css.movie_link}\n//         // state={{ from: location }}\n//         to={`/movies/${id}`}\n//       >\n//         {title}\n//       </Link>\n//     </li>\n//   ));\n\n//   return <ul className={css.gallery}>{listGallery}</ul>;\n","// extracted by mini-css-extract-plugin\nexport default {\"load_more\":\"LoadMoreButton_load_more__p8--J\"};","import css from '../LoadMoreButton/LoadMoreButton.module.css';\n// import { Button } from 'components/Button/Button';\n\nconst LoadMoreButton = () => {\n  return (\n    <div className={css.section}>\n      {/* <Button /> */}\n      <button type=\"button\" className={css.load_more}>\n        Load more\n      </button>\n    </div>\n  );\n};\nexport default LoadMoreButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"HomePage_section__bINJC\",\"container\":\"HomePage_container__uNu-e\",\"title\":\"HomePage_title__UFLA3\"};","import axios from 'axios';\nconst API_KEY = '6de1479941bef67a0c224787b78603f1';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\n// _____________________ async fetch CLASS _____________________________\n\nexport default class fetchApiMovies {\n  constructor() {\n    this.page = 1;\n    this.word = '';\n    this._movieId = null;\n  }\n\n  async fetchMovies() {\n    const response = await instance.get(\n      `/trending/movie/day?api_key=${API_KEY}&page=${this.page}`\n    );\n    return response.data.results;\n  }\n\n  async fetchMovieDetailsById(MovieId) {\n    const response = await instance.get(`movie/${MovieId}?api_key=${API_KEY}`);\n\n    return response.data;\n  }\n\n  async fetchMoviesByQuery(query, page) {\n    const response = await instance.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async fetchMoviesByPage(page) {\n    const response = await instance.get(\n      `/trending/movie/day?api_key=${API_KEY}&page=${page}`\n    );\n    return response.data.results;\n  }\n\n  async fetchGenresListByIds() {\n    const response = await instance.get(\n      `/genre/movie/list?api_key=${API_KEY}&language=en`\n    );\n    return response.data.genres;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  resetQuery() {\n    this.word = '';\n  }\n\n  get query() {\n    return this.word;\n  }\n\n  set query(newQuery) {\n    return (this.word = newQuery);\n  }\n\n  get movieId() {\n    return this._movieId;\n  }\n\n  set movieId(newMovieId) {\n    return (this._movieId = newMovieId);\n  }\n}\n\n// _____________________fetch func_____________________________________\nexport async function fetchMovies() {\n  const options = {\n    method: 'GET',\n    headers: { accept: 'application/json' },\n  };\n\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`,\n    options\n  );\n\n  const res = await response.json();\n\n  const movies = await res.results;\n\n  return movies;\n}\n\nexport async function fetchMoviesByQuery(query) {\n  const options = {\n    method: 'GET',\n    headers: { accept: 'application/json' },\n  };\n\n  const response = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n\n  const res = await response.json();\n\n  const movies = await res.results;\n\n  return movies;\n}\n\nexport async function fetchMovieDetailsById(movieId) {\n  const options = { method: 'GET', headers: { accept: 'application/json' } };\n\n  const response = await fetch(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`,\n    options\n  );\n\n  const res = await response.json();\n\n  return res;\n}\n\nexport async function fetchMoviesByPage(page) {\n  const options = {\n    method: 'GET',\n    headers: { accept: 'application/json' },\n  };\n\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`,\n    options\n  );\n\n  const res = await response.json();\n\n  return res;\n}\n\nexport async function fetchGenresListByIds() {\n  const response = await instance.get(\n    `/genre/movie/list?api_key=${API_KEY}&language=en`\n  );\n  return response.data.genres;\n}\n","import Gallery from 'components/Gallery/Gallery';\nimport LoadMoreButton from 'components/LoadMoreButton/LoadMoreButton';\n\nimport css from '../HomePage/HomePage.module.css';\n\nimport { useState, useEffect } from 'react';\n\nimport { fetchMovies } from '../../services/apiService';\n// import MoviesList from 'components/MoviesList/MoviesList';\n\n// const Movies = () => {\n//   const [state, setState] = useState({\n//     items: [],\n//     loading: false,\n//     error: null,\n//   });\n\n//   useEffect(() => {\n//     const fetchMovies = async () => {\n//       try {\n//         setState(prevState => ({\n//           ...prevState,\n//           loading: true,\n//           error: null,\n//         }));\n//         const result = await getMovies();\n//         console.log(result);\n//         setState(prevState => {\n//           return {\n//             ...prevState,\n//             items: [...result.results],\n//           };\n//         });\n//       } catch (error) {\n//         setState(prevState => ({\n//           ...prevState,\n//           error,\n//         }));\n//       } finally {\n//         setState(prevState => {\n//           return {\n//             ...prevState,\n//             loading: false,\n//           };\n//         });\n//       }\n//     };\n\n//     fetchMovies();\n\n//     console.log('запускаємо useEffect');\n//   }, [setState]);\n\n//   // const { items, loading, error } = state;\n\n//   // return (\n//   //   <div>\n//   //     {items.length > 0 && <MoviesList items={items} />}\n//   //     {loading && <p>...loading</p>}\n//   //     {error && <p>...load failed</p>}\n//   //   </div>\n//   // );\n// };\n// export default Movies;\n\nconst HomePage = props => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchMoviesList = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const result = await fetchMovies();\n        console.log(result);\n        setState(prevState => {\n          return {\n            ...prevState,\n            items: [...result],\n          };\n        });\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      } finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          };\n        });\n      }\n    };\n\n    fetchMoviesList();\n\n    console.log('запускаємо useEffect');\n  }, [setState]);\n  const { items, loading, error } = state;\n  return (\n    <div className={css.section}>\n      <div className={css.container}>\n        <h1 className={css.title}>Home page</h1>\n        {items.length > 0 && <Gallery items={items} />}\n        {loading && <p>...loading</p>}\n        {error && <p>...load failed</p>}\n        {/* <Gallery /> */}\n        <LoadMoreButton />\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"names":["MovieCard","_ref","item","poster_path","original_title","id","vote_average","url","concat","_jsx","className","css","children","_jsxs","href","src","alt","originalTitle","toFixed","Gallery","items","console","log","map","defaultProps","type","API_KEY","BASE_URL","axios","baseURL","fetchMovies","_fetchMovies2","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee6","options","response","res","movies","_context6","prev","next","method","headers","accept","fetch","sent","json","results","abrupt","stop","props","_useState","useState","loading","error","_useState2","_slicedToArray","state","setState","useEffect","fetchMoviesList","_callee","result","_context","prevState","_objectSpread","_toConsumableArray","t0","finish","length","LoadMoreButton"],"sourceRoot":""}