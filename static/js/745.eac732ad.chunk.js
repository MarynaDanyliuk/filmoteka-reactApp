"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[745],{194:function(e,a,t){t.d(a,{Z:function(){return N}});var i="Gallery_gallery__RNraJ",o="Gallery_section__-vRp8",r=t(439),s={gallery_card:"MovieCard_gallery_card__AgP-w",movie_img:"MovieCard_movie_img__OgQxA",movie_describtion:"MovieCard_movie_describtion__H-1+r",movie_genresList:"MovieCard_movie_genresList__d6+3t",movie_average:"MovieCard_movie_average__j2fxM",modal:"MovieCard_modal__KQdO1",modal_auth:"MovieCard_modal_auth__1RNxf",open:"MovieCard_open__WEdIB",hidden:"MovieCard_hidden__AQ3Z5",modal_body:"MovieCard_modal_body__otckZ",modal_content:"MovieCard_modal_content__8rlmv",modal_close:"MovieCard_modal_close__o9iy+",modal_data:"MovieCard_modal_data__bmwvL",movie_image:"MovieCard_movie_image__ajhuA"},n=t(791),l="Modal_modal__DJDMv",c="Modal_modal_body__TApFM",d="Modal_modal_content__-WSAd",_="Modal_modal_close__DT8Wk",m=t(164),u=t(184),v=document.querySelector("#modal-root"),h=function(e){var a=e.close,t=e.children,i=(e.approve,(0,n.useCallback)((function(e){var t=e.target,i=e.currentTarget,o=e.code;t!==i&&"Escape"!==o||a()}),[a]));return(0,n.useEffect)((function(){return document.addEventListener("keydown",i),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",i),document.body.style.overflow=""}}),[i]),m.createPortal((0,u.jsx)("div",{id:"movie",className:l,onClick:i,children:(0,u.jsx)("div",{className:c,children:(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("button",{className:_,children:"X"}),t]})})}),v)},p={movie_inform:"ModalDetails_movie_inform__KBfaX",movie_title:"ModalDetails_movie_title__PcrrN",card:"ModalDetails_card__QfxCv",image:"ModalDetails_image__fIycM",list_category:"ModalDetails_list_category__B73-T",list_data:"ModalDetails_list_data__2CL+3",genres:"ModalDetails_genres__Jbbbs",movie_about:"ModalDetails_movie_about__zmNhC",about:"ModalDetails_about__omTKp",average:"ModalDetails_average__pYNMM",count:"ModalDetails_count__eT4q8"},f=function(e){var a=e.item,t=a.poster_path,i=a.original_title,o=a.vote_average,r=a.vote_count,s=a.popularity,n=a.overview,l="https://image.tmdb.org/t/p/w500".concat(t);return(0,u.jsxs)("div",{className:p.movie_card,children:[(0,u.jsx)("img",{src:l,alt:i,className:p.image,loading:"lazy"}),(0,u.jsxs)("div",{className:p.movie_descr,children:[(0,u.jsx)("p",{className:p.movie_title,children:i}),(0,u.jsx)("table",{className:p.movie_inform,children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Vote/Votes"}),(0,u.jsxs)("td",{className:p.list_data,children:[(0,u.jsx)("span",{className:p.average,children:o.toFixed(1)})," /"," ",(0,u.jsx)("span",{className:p.count,children:r})]})]}),(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Popularity"}),(0,u.jsx)("td",{className:p.list_data,children:s.toFixed(1)})]}),(0,u.jsxs)("tr",{className:p.movie_info_item,children:[(0,u.jsx)("td",{className:p.list_category,children:"Original Title"}),(0,u.jsx)("td",{className:p.list_data,children:i})]}),(0,u.jsx)("tr",{className:p.movie_info_item,children:(0,u.jsx)("td",{className:p.list_category,children:"Genre"})})]})}),(0,u.jsx)("p",{children:"About"}),(0,u.jsxs)("p",{className:p.movie_about,children:["$",n]})]})]})},g=f;f.defaultProps={items:[]};var x=function(e){var a=e.item,t=(0,n.useState)(!1),i=(0,r.Z)(t,2),o=i[0],l=i[1],c=a.poster_path,d=a.original_title,_=a.id,m=a.vote_average,v="https://image.tmdb.org/t/p/w500".concat(c);return(0,u.jsxs)("li",{className:s.gallery_card,onClick:function(){return l(!0)},children:[(0,u.jsx)("img",{id:a.id,className:s.movie_img,src:v,alt:a.original_title,loading:"lazy"}),(0,u.jsx)("p",{className:s.movie_title,children:d}),(0,u.jsxs)("div",{className:s.movie_describtion,children:[(0,u.jsx)("ul",{className:s.movie_genresList}),(0,u.jsx)("p",{children:"2022"}),(0,u.jsx)("p",{className:s.movie_average,children:m.toFixed(1)})]}),o&&(0,u.jsxs)(h,{close:function(){return l(!1)},children:[(0,u.jsx)("h1",{children:"\u0422\u0443\u0442 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u041c\u043e\u0434\u0430\u043b\u043a\u0430"}),(0,u.jsx)(g,{item:a,close:function(){return l(!1)}})]})]},_)},j=function(e){var a=e.items;return console.log(a),(0,u.jsx)("div",{className:o,children:(0,u.jsx)("ul",{className:i,children:a.map((function(e){return(0,u.jsx)(x,{item:e},e.id)}))})})},N=j;j.defaultProps={items:[]}},921:function(e,a,t){t.d(a,{Z:function(){return r}});var i={load_more:"LoadMoreButton_load_more__p8--J"},o=t(184),r=function(){return(0,o.jsx)("div",{className:i.section,children:(0,o.jsx)("button",{type:"button",className:i.load_more,children:"Load more"})})}},745:function(e,a,t){t.r(a),t.d(a,{default:function(){return N}});var i=t(433),o=t(683),r=t(861),s=t(439),n=t(757),l=t.n(n),c=t(791),d="HomePage_section__bINJC",_="HomePage_container__uNu-e",m="HomePage_title__UFLA3",u=t(194),v=t(921),h=t(294),p="6de1479941bef67a0c224787b78603f1",f="https://api.themoviedb.org/3/";h.Z.create({baseURL:"https://api.themoviedb.org/3/"});function g(){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(l().mark((function e(){var a,t,i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{accept:"application/json"}},e.next=3,fetch("".concat(f,"/trending/movie/day?api_key=").concat(p),a);case 3:return t=e.sent,e.next=6,t.json();case 6:return i=e.sent,e.next=9,i.results;case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=t(184),N=function(){var e=(0,c.useState)({items:[],loading:!1,error:null}),a=(0,s.Z)(e,2),t=a[0],n=a[1];(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n((function(e){return(0,o.Z)((0,o.Z)({},e),{},{loading:!0,error:null})})),e.next=4,g();case 4:a=e.sent,console.log(a),n((function(e){return(0,o.Z)((0,o.Z)({},e),{},{items:(0,i.Z)(a)})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n((function(a){return(0,o.Z)((0,o.Z)({},a),{},{error:e.t0})}));case 12:return e.prev=12,n((function(e){return(0,o.Z)((0,o.Z)({},e),{},{loading:!1})})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e(),console.log("\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0454\u043c\u043e useEffect")}),[n]);var h=t.items,p=t.loading,f=t.error;return(0,j.jsx)("div",{className:d,children:(0,j.jsxs)("div",{className:_,children:[(0,j.jsx)("h1",{className:m,children:"Home page"}),h.length>0&&(0,j.jsx)(u.Z,{items:h}),p&&(0,j.jsx)("p",{children:"...loading"}),f&&(0,j.jsx)("p",{children:"...load failed"}),(0,j.jsx)(v.Z,{})]})})}}}]);
//# sourceMappingURL=745.eac732ad.chunk.js.map